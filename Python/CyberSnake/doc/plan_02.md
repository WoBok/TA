1. 根据你的架构重构建议对我的整个项目进行重构，如你所说的代码重构，文件夹结构重构等，全部都做
2. 在重构的时候也要考虑到我的新玩法的设计，一起加入到代码框架的设计中，下方是我优化过的新系统

## 新系统
1. 道具与状态系统

        🧲 磁铁道具（黄色）：

        效果： 吃到后，周围 3-5 格内的所有食物会自动飞向蛇头，飞行时要有特效。

        💣 炸弹道具（黑色）：

        效果：炸弹可以清除全屏或一定范围内的所有障碍物，爆炸时要有特效。

        ✂️ 剪刀/减肥药（绿色）：

        效果： 身体长度减少 3-5 格，但分数不减，伴随着特效，从尾部开始，一个一个的减少，特效类似于气泡炸开。

        ☠️ 腐烂苹果（紫色/骷髅标）：

        效果： 这是一个负面道具。吃到后，操作会反向（按左变右，按上变下），持续 5 秒，吃到腐烂苹果后整个身体会有随机彩虹流光的特效。

2. 动态环境与地图机制

        🌀 传送门（Portal）：

        机制： 地图上出现成对的传送门（如橙色和蓝色洞）。蛇头进橙色，立刻从蓝色出。

        🔥 间歇性陷阱：

        机制： 地面上总共有3-5个地刺或岩浆，地刺会间隔0.5秒缩到地中，然后0.5秒后露出，岩浆持续存在，并伴随流动特效，持续存在3-5秒后会消失3-5秒，循环往复，地刺和岩浆是交错随机时间出现的。

        🌫️ 迷雾模式：

        机制： 除了蛇头周围 3 - 5 格范围，其他地方是黑的伴随流动的雾气效果（战争迷雾）。

3. 加入敌对生物

        🐍 影子蛇（AI Rival）：

        机制： 每隔10-15秒出现一条由电脑控制的蛇（第0秒不会出现），它会和你抢食物。如果你的头撞到它的身体，你死；它的头撞到你，它死并变成一堆高分食物散落在周围，影子蛇不会主动消失，碰到同伴则穿过其身体。

        👻 幽灵猎手：

        机制： 一个红色的幽灵在地图上游荡，它不受墙壁限制，会缓慢向蛇头移动，存在4-7秒，然后消失4-8秒，同时存在最多3个，身体是半透明的，若隐若现。

4. 进阶玩法与Boss战
👹 Boss 战机制：

        触发： 每吃到 10 个红色食物，出现一个 Boss（占据 3x3 格子）。

        攻击： Boss 会发射子弹，子弹发射后会飘出屏幕销毁，如果头碰到子弹就会死亡。

        击杀方式： Boss会有一个5秒的护盾，随着时间能量满满减弱直至消失，特效上要进行表现，护盾消失后可利用幽灵模式穿过Boss身体对其击杀。

        ⛓️ 连击系统（Combo）：

        机制： 如果在 2 秒内连续吃到食物，分数倍率提升（x2, x4, x8），身体每次只加1。